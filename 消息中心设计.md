一. 目的
  1. 公司产品众多，推送消息渠道众多，推送消息与产品、平台、推送工具耦合在一起，导致消息推送没办法与应用、平台解耦，不利于扩展多产品、组件化及运营，消息中心承载全公司所有产品的消息推送能力，打通所有产品和推送渠道，提供统一的推送及运营通道
  2. 消息中心目前仅支持透明传输，不负责消息的解析与展示
  3. 统一的通知中心管理

二. 已知的消息推送通道
  1. 个推
  2. faye（WebSocket）
  3. 企业微信
  4. 钉钉

三. 受众高度抽象
  受众应用：应用
  受众目标人员：企业、部门、员工
  受众设备: APP(IOS、Android)、企业微信、钉钉、页面（WebSocket）

四. 消息格式
  1. 文本消息
  2. 图片消息
  3. 单行图文消息
  4. 多行图文消息
  5. 自由格式消息

五. 消息业务类型
  1. 通知
  2. 提醒
  3. 公告
  4. 运营

六. WebSocket扩展，主要考虑发布与订阅及点对点消息（打通所有应用还是局限在应用内）
  1. 广播（所有）
  2. 组播（公司、及自定义）
  3. P2P

七. 特性
  1. 支持透明消息通道
  2. 支持消息存储及削峰
  3. 支持优先级
  4. 支持延时和定时消息
  5. 必达，失败原因、状态查询或推送
  6. 消息存储3个月
  7. 消息强制弹屏（未来前端组件）

八. 技术选型及指标
  1. 数据库选型，MongoDB Or Mysql；2亿条数据首选MongoDB
  2. 支持多大并发量；2000万日PV
  3. 消息发送统计、管理；

九. 需求
  1. 消息可以按应用、企业、部门、员工发送消息到指定一个或多个设备；
  2. 消息可以按规则发送，如某个应用的创建人、某个应用的超级管理员、某个应用用户中心管理员、某个应用的最新登陆时间等；
  3. 消息支持优先级、支持延时和定时发送；
  4. 个人消息的已读、未读条数；
  5. 个人消息的分页查询；
  6. 个人消息批量已读；
  7. 每条消息都需要标记已发送、已送达、未读、已读状态；
  8. 某条发送记录的到达率、阅读率；





